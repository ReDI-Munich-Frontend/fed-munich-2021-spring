const images=[...document.querySelectorAll("img")],imagePromises=images.map((e=>imageLoaded(e))),allImagesLoaded=Promise.all(imagePromises),loader=document.getElementById("loading-overlay");function imageLoaded(e){return new Promise(((a,o)=>{e.complete?a():(e.addEventListener("load",a),e.addEventListener("error",o))}))}loader.style.display="flex",allImagesLoaded.then((()=>{console.log("images loaded"),loader.style.display="none"}));